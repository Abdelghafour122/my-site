---
import { LINK_LIST } from "@/consts";
import { Icon } from "astro-icon/components";
---

<button
  id="mobile-menu"
  class="sm:hidden transition-colors text-stone-800 hover:text-[var(--accent)] dark:text-[rgb(var(--gray-light))] dark:hover:text-[rgb(var(--gray))]"
>
  <div class="open">
    <span class="sr-only">Open menu</span>
    <Icon name="bars" size={30} title="Bars menu" />
  </div>
  <!-- <div class="close">
    <span class="sr-only">Close menu</span>
    <Icon name="close" size={30} title="Close menu" />
  </div> -->
</button>

<!-- class="mobile-nav absolute top-[calc(100%_+_2px)] left-0 w-full bg-stone-200 dark:bg-neutral-900 text-stone-800 dark:text-stone-300 transition-colors flex-col items-start justify-start gap-4" -->
<div
  class="mobile-nav absolute top-[calc(100%_+_20px)] left-2/4 -translate-x-2/4 w-[90%] bg-stone-200 dark:bg-stone-900 transition-colors flex sm:hidden flex-col items-center justify-start gap-4 rounded-md shadow-lg dark:border dark:border-stone-400 p-5"
>
  <ul
    class="flex flex-col items-center justify-start gap-3 *:transition-colors text-stone-800 dark:text-[rgb(var(--gray-light))]"
  >
    <li
      class="font-['Nunito'] text-2xl font-bold hover:text-[var(--accent)] dark:hover:text-[rgb(var(--gray))]"
    >
      <a href="/home" class="hover:text">Home</a>
    </li>
    <li
      class="font-['Nunito'] text-2xl font-bold hover:text-[var(--accent)] dark:hover:text-[rgb(var(--gray))]"
    >
      <a href="/blog">Blog</a>
    </li>
    <li
      class="font-['Nunito'] text-2xl font-bold hover:text-[var(--accent)] dark:hover:text-[rgb(var(--gray))]"
    >
      <a href="/projects">Projects</a>
    </li>
  </ul>
  <ul
    class="social-links flex flex-row justify-center gap-4 pt-4 border-t border-t-stone-400"
  >
    {
      LINK_LIST.map((link) => (
        <li class="p-1">
          <a
            href={link.href}
            target="_blank"
            class="transition-colors text-stone-800 hover:text-[var(--accent)] dark:text-[rgb(var(--gray-light))] dark:hover:text-[rgb(var(--gray))]"
          >
            <span class="sr-only">{link.sronlyText}</span>
            <Icon name={link.iconName} size={30} title={link.iconName} />
          </a>
        </li>
      ))
    }
  </ul>
</div>

<script is:inline>
  document.addEventListener("astro:page-load", () => {
    const mobileMenu = document.getElementById("mobile-menu");
    const openMenu = mobileMenu.querySelector(".open");
    const closeMenu = mobileMenu.querySelector(".close");

    mobileMenu.addEventListener("click", () => {
      menu.classList.toggle("hidden");
    });
  });
</script>
